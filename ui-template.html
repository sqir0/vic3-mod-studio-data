<!-- Victoria 3 Mod Studio - UI Template v1.0 -->
<!-- Bu dosya otomatik yÃ¼klenir - DÃ¼zenleme yaparken dikkatli olun! -->

<div class="vic3-titlebar">
    <div class="vic3-titlebar-buttons">
        <button class="vic3-titlebar-btn close" id="btn-close"></button>
        <button class="vic3-titlebar-btn minimize"></button>
        <button class="vic3-titlebar-btn maximize"></button>
    </div>
    <div class="vic3-titlebar-title">Victoria 3 Mod Studio v3.1</div>
    <div class="vic3-titlebar-shortcut">{{TOGGLE_SHORTCUT}}</div>
</div>

<div class="vic3-main">
    <div class="vic3-browser-overlay" id="browser-overlay"></div>
    <div id="github-browser"></div>

    <div class="vic3-activitybar">
        <button class="vic3-activity-btn" data-panel="sources" title="Sources">
            <svg viewBox="0 0 24 24"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
            <span class="vic3-activity-badge" id="sources-badge">0</span>
        </button>
        <button class="vic3-activity-btn active" data-panel="keywords" title="Keywords">
            <svg viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
        </button>
        <button class="vic3-activity-btn" data-panel="keyword-manager" title="Keyword Manager">
            <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
        </button>
        <button class="vic3-activity-btn" data-panel="snippets" title="Snippets">
            <svg viewBox="0 0 24 24"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
        </button>
        <div class="vic3-activity-spacer"></div>
        <button class="vic3-activity-btn" id="btn-settings" title="Settings">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
        </button>
        <button class="vic3-activity-btn" id="btn-shortcuts" title="Shortcuts (F1)">
            <svg viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M6 8h.01M10 8h.01M14 8h.01M18 8h.01M8 12h.01M12 12h.01M16 12h.01M7 16h10"/></svg>
        </button>
    </div>

    <!-- Sources Panel -->
    <div class="vic3-sidebar" id="panel-sources">
        <div class="vic3-sidebar-header">
            <span>SOURCES</span>
            <span class="vic3-sidebar-badge" id="sources-count">0</span>
        </div>
        <div class="vic3-sidebar-content">
            <div class="vic3-source-add-section">
                <div class="vic3-source-add-header">
                    <span>â• Add Source</span>
                </div>
                <div class="vic3-source-add-body">
                    <div class="vic3-source-url-input-group">
                        <input type="text" class="vic3-source-input" id="source-url" placeholder="Paste GitHub URL here...">
                        <button class="vic3-source-browse-btn" id="btn-browse-url">ğŸ” Browse</button>
                    </div>
                    <div class="vic3-source-input-hint">ğŸ’¡ Paste a GitHub repo, folder, or file URL</div>
                    <div class="vic3-source-quick-add">
                        <div class="vic3-quick-add-label">Quick Add:</div>
                        <div class="vic3-quick-add-buttons">
                            <button class="vic3-quick-add-btn recommended" data-preset="cwtools-vic3" title="Add official CWTools Victoria 3 config">ğŸ‘‘ CWTools</button>
                            <button class="vic3-quick-add-btn recommended" data-preset="modding-digests" title="Add Community Modding Digests">ğŸ“š Digests</button>
                            <button class="vic3-quick-add-btn" data-preset="cmf-main" title="Add Community Modding Framework">ğŸ”§ CMF</button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="sources-list"></div>
        </div>
    </div>

    <!-- Keywords Panel -->
    <div class="vic3-sidebar active" id="panel-keywords">
        <div class="vic3-sidebar-header"><span>KEYWORDS</span><span id="keyword-count">0</span></div>
        <div class="vic3-keyword-search"><input type="text" id="keyword-search" placeholder="Search keywords..."></div>
        <div class="vic3-sidebar-content"><div class="vic3-keyword-list" id="keyword-list"></div></div>
    </div>

    <!-- Keyword Manager Panel -->
    <div class="vic3-sidebar" id="panel-keyword-manager">
        <div class="vic3-sidebar-header"><span>KEYWORD MANAGER</span><span id="custom-keyword-count">0</span></div>
        <div class="vic3-sidebar-content">
            <div class="vic3-keyword-manager">
                <div class="vic3-km-section">
                    <div class="vic3-km-stats">
                        <div class="vic3-km-stat"><div class="vic3-km-stat-value" id="km-stat-total">0</div><div class="vic3-km-stat-label">Total</div></div>
                        <div class="vic3-km-stat"><div class="vic3-km-stat-value" id="km-stat-custom">0</div><div class="vic3-km-stat-label">Custom</div></div>
                        <div class="vic3-km-stat"><div class="vic3-km-stat-value" id="km-stat-patterns">0</div><div class="vic3-km-stat-label">Patterns</div></div>
                    </div>
                </div>
                <div class="vic3-km-section">
                    <div class="vic3-km-section-header"><span class="icon">â•</span><span>Add New Keyword</span></div>
                    <div class="vic3-km-section-body">
                        <div class="vic3-km-form">
                            <div class="vic3-km-field"><label class="vic3-km-label">Keyword Name</label><input type="text" class="vic3-km-input" id="km-keyword-input" placeholder="e.g., my_trigger"></div>
                            <div class="vic3-km-field">
                                <label class="vic3-km-label">Expected Type</label>
                                <div class="vic3-km-type-options" id="km-type-options">
                                    <div class="vic3-km-type-option" data-type="STRING"><span class="type-icon">ğŸ“</span><span class="type-label">String</span></div>
                                    <div class="vic3-km-type-option selected" data-type="BLOCK"><span class="type-icon">ğŸ“¦</span><span class="type-label">Block</span></div>
                                    <div class="vic3-km-type-option" data-type="BOOLEAN"><span class="type-icon">âœ“</span><span class="type-label">Boolean</span></div>
                                    <div class="vic3-km-type-option" data-type="NUMBER"><span class="type-icon">ğŸ”¢</span><span class="type-label">Number</span></div>
                                    <div class="vic3-km-type-option" data-type="TYPE"><span class="type-icon">ğŸ·ï¸</span><span class="type-label">Type</span></div>
                                    <div class="vic3-km-type-option" data-type="SCOPE"><span class="type-icon">ğŸ”—</span><span class="type-label">Scope</span></div>
                                </div>
                            </div>
                            <div class="vic3-km-field"><label class="vic3-km-label">Description</label><input type="text" class="vic3-km-input" id="km-desc-input" placeholder="Optional description..."></div>
                            <div class="vic3-km-field"><label class="vic3-km-label">Preview</label><div class="vic3-km-preview" id="km-preview"><code>keyword = { }</code></div></div>
                            <button class="vic3-km-add-btn" id="km-add-btn"><span>â•</span> Add Keyword</button>
                        </div>
                        <div class="vic3-km-quick-add">
                            <button class="vic3-km-quick-btn" data-prefix="is_" data-type="BOOLEAN">is_*</button>
                            <button class="vic3-km-quick-btn" data-prefix="has_" data-type="BOOLEAN">has_*</button>
                            <button class="vic3-km-quick-btn" data-prefix="add_" data-type="BLOCK">add_*</button>
                            <button class="vic3-km-quick-btn" data-suffix="_mult" data-type="NUMBER">*_mult</button>
                        </div>
                    </div>
                </div>
                <div class="vic3-km-section">
                    <div class="vic3-km-section-header"><span class="icon">ğŸ“‹</span><span>Custom Keywords</span></div>
                    <div class="vic3-km-list" id="km-custom-list"><div class="vic3-km-empty">No custom keywords yet</div></div>
                </div>
                <div class="vic3-km-section">
                    <div class="vic3-km-section-header"><span class="icon">ğŸ’¾</span><span>Import / Export</span></div>
                    <div class="vic3-km-section-body">
                        <div class="vic3-km-io">
                            <button class="vic3-km-io-btn" id="km-export-btn"><span>ğŸ“¤</span> Export</button>
                            <button class="vic3-km-io-btn" id="km-import-btn"><span>ğŸ“¥</span> Import</button>
                            <button class="vic3-km-io-btn" id="km-clear-btn" style="color:var(--vic3-error)"><span>ğŸ—‘ï¸</span> Clear</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Snippets Panel -->
    <div class="vic3-sidebar" id="panel-snippets">
        <div class="vic3-sidebar-header"><span>SNIPPETS</span></div>
        <div class="vic3-sidebar-content" id="snippets-list"></div>
    </div>

    <div class="vic3-editor-area">
        <div class="vic3-tabs-bar" id="tabs-bar"></div>
        <div class="vic3-toolbar">
            <button class="vic3-tool-btn primary" id="btn-validate">âœ“ Validate</button>
            <button class="vic3-tool-btn" id="btn-format">ğŸ“ Format</button>
            <div class="vic3-tool-divider"></div>
            <button class="vic3-tool-btn" id="btn-undo">â†¶</button>
            <button class="vic3-tool-btn" id="btn-redo">â†·</button>
            <div class="vic3-tool-divider"></div>
            <button class="vic3-tool-btn" id="btn-find">ğŸ” Find</button>
            <button class="vic3-tool-btn" id="btn-goto">â¤µ Go to</button>
            <button class="vic3-tool-btn" id="btn-wordwrap">â†© Wrap</button>
            <div class="vic3-tool-divider"></div>
            <button class="vic3-tool-btn" id="btn-fold-all">â–¸â–¸</button>
            <button class="vic3-tool-btn" id="btn-unfold-all">â–¾â–¾</button>
            <div class="vic3-tool-spacer"></div>
            <button class="vic3-tool-btn" id="btn-problems">Problems <span class="vic3-problems-badge" id="problems-count" style="display:none">0</span></button>
        </div>

        <div class="vic3-editor-container">
            <div class="vic3-code-editor">
                <div class="vic3-gutter"><div class="vic3-line-numbers" id="line-numbers"></div></div>
                <div class="vic3-editor-wrapper">
                    <div class="vic3-highlight-layer" id="highlight-layer"></div>
                    <textarea class="vic3-textarea" id="code-textarea" spellcheck="false" placeholder="Victoria 3 mod code..."></textarea>
                    <div class="vic3-autocomplete" id="autocomplete-dropdown"></div>
                    <div class="vic3-find-replace" id="find-replace-panel">
                        <div class="vic3-find-row">
                            <input type="text" class="vic3-find-input" id="find-input" placeholder="Find...">
                            <span class="vic3-find-count" id="find-count"></span>
                            <button class="vic3-find-btn" id="btn-find-prev">â—€</button>
                            <button class="vic3-find-btn" id="btn-find-next">â–¶</button>
                            <button class="vic3-find-close" id="btn-find-close">âœ•</button>
                        </div>
                        <div class="vic3-find-row" id="replace-row" style="display:none">
                            <input type="text" class="vic3-find-input" id="replace-input" placeholder="Replace...">
                            <button class="vic3-find-btn" id="btn-replace-one">Replace</button>
                            <button class="vic3-find-btn" id="btn-replace-all">All</button>
                        </div>
                        <div class="vic3-find-options">
                            <label class="vic3-find-option"><input type="checkbox" id="find-case"> Case</label>
                            <label class="vic3-find-option"><input type="checkbox" id="find-word"> Word</label>
                            <label class="vic3-find-option"><input type="checkbox" id="find-regex"> Regex</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="vic3-problems" id="problems-panel">
            <div class="vic3-problems-header"><button class="vic3-problems-tab active">Problems <span class="vic3-problems-badge" id="problems-badge">0</span></button></div>
            <div class="vic3-problems-body" id="problems-body"></div>
        </div>
    </div>
</div>

<div class="vic3-modal-overlay" id="modal-overlay"></div>

<div class="vic3-goto-line" id="goto-line-panel">
    <div class="vic3-goto-title">Go to Line</div>
    <input type="number" class="vic3-find-input" id="goto-line-input" min="1" placeholder="Line number...">
    <div class="vic3-confirm-buttons">
        <button class="vic3-confirm-btn secondary" id="btn-goto-cancel">Cancel</button>
        <button class="vic3-confirm-btn primary" id="btn-goto-go" style="background:var(--vic3-primary)">Go</button>
    </div>
</div>

<div class="vic3-shortcuts-panel" id="shortcuts-panel">
    <div class="vic3-shortcuts-header"><span class="vic3-shortcuts-title">âŒ¨ï¸ Keyboard Shortcuts</span><button class="vic3-shortcuts-close" id="btn-shortcuts-close">âœ•</button></div>
    <div id="shortcuts-content"></div>
</div>

<div class="vic3-settings-panel" id="settings-panel">
    <div class="vic3-settings-header">
        <span class="vic3-settings-title">âš™ï¸ Settings</span>
        <button class="vic3-settings-close" id="btn-settings-close">âœ•</button>
    </div>
    <div class="vic3-settings-body" id="settings-content"></div>
</div>

<div class="vic3-confirm-dialog" id="confirm-dialog">
    <div class="vic3-confirm-title" id="confirm-title">Confirm</div>
    <div class="vic3-confirm-message" id="confirm-message"></div>
    <div class="vic3-confirm-buttons">
        <button class="vic3-confirm-btn secondary" id="btn-confirm-cancel">Cancel</button>
        <button class="vic3-confirm-btn primary" id="btn-confirm-ok">OK</button>
    </div>
</div>

<div class="vic3-snippet-editor" id="snippet-editor">
    <div class="vic3-snippet-editor-header">
        <span class="vic3-snippet-editor-title" id="snippet-editor-title">Add Snippet</span>
        <button class="vic3-snippet-editor-close" id="btn-snippet-close">âœ•</button>
    </div>

    <!-- Tab SeÃ§imi -->
    <div class="vic3-snippet-tabs">
        <button class="vic3-snippet-tab active" data-mode="manual" id="tab-manual">âœï¸ Manuel</button>
        <button class="vic3-snippet-tab" data-mode="link" id="tab-link">ğŸ”— Link ile Ekle</button>
    </div>

    <!-- Manuel Mod -->
    <div class="vic3-snippet-mode" id="mode-manual">
        <div class="vic3-snippet-editor-field">
            <label class="vic3-snippet-editor-label">Title *</label>
            <input type="text" class="vic3-snippet-editor-input" id="snippet-title-input" placeholder="Snippet title...">
        </div>
        <div class="vic3-snippet-editor-field">
            <label class="vic3-snippet-editor-label">Description</label>
            <input type="text" class="vic3-snippet-editor-input" id="snippet-desc-input" placeholder="Short description...">
        </div>
        <div class="vic3-snippet-editor-field">
            <label class="vic3-snippet-editor-label">Category</label>
            <select class="vic3-snippet-editor-input" id="snippet-category-input">
                <option value="custom">ğŸ“ Custom</option>
                <option value="events">ğŸ“œ Events</option>
                <option value="decisions">âš–ï¸ Decisions</option>
                <option value="buildings">ğŸ­ Buildings</option>
                <option value="modifiers">ğŸ“Š Modifiers</option>
                <option value="scripted">ğŸ¯ Scripted</option>
                <option value="characters">ğŸ‘¤ Characters</option>
                <option value="diplomacy">ğŸ¤ Diplomacy</option>
                <option value="other">ğŸ“‹ Other</option>
            </select>
        </div>
        <div class="vic3-snippet-editor-field">
            <label class="vic3-snippet-editor-label">Code *</label>
            <textarea class="vic3-snippet-editor-input vic3-snippet-editor-textarea" id="snippet-code-input" placeholder="Paste your Victoria 3 code here..."></textarea>
        </div>
        <div class="vic3-snippet-validation" id="snippet-validation"></div>
    </div>

    <!-- Link Mod -->
    <div class="vic3-snippet-mode" id="mode-link" style="display:none">
        <div class="vic3-snippet-editor-field">
            <label class="vic3-snippet-editor-label">GitHub JSON URL *</label>
            <input type="text" class="vic3-snippet-editor-input" id="snippet-url-input" placeholder="https://raw.githubusercontent.com/user/repo/main/snippets.json">
        </div>
        <div class="vic3-snippet-url-hint">
            ğŸ’¡ JSON formatÄ±:
            <pre>{
  "snippets": [
    {
      "title": "My Snippet",
      "desc": "Description",
      "category": "events",
      "code": "your_code_here"
    }
  ]
}</pre>
        </div>
        <button class="vic3-snippet-fetch-btn" id="btn-fetch-snippets">ğŸ” Fetch & Preview</button>
        <div class="vic3-snippet-preview" id="snippet-link-preview"></div>
    </div>

    <div class="vic3-snippet-editor-actions">
        <button class="vic3-confirm-btn secondary" id="btn-snippet-cancel">Cancel</button>
        <button class="vic3-confirm-btn primary" id="btn-snippet-save" style="background:var(--vic3-primary)">ğŸ’¾ Save</button>
    </div>
</div>

<div class="vic3-context-menu" id="context-menu"></div>

<div class="vic3-statusbar">
    <div class="vic3-status-item"><span id="status-pos">Ln 1, Col 1</span></div>
    <div class="vic3-status-divider"></div>
    <div class="vic3-status-item"><span id="status-sel"></span></div>
    <div class="vic3-statusbar-right">
        <div class="vic3-status-item"><span id="status-lines">0 lines</span></div>
        <div class="vic3-status-divider"></div>
        <div class="vic3-status-item"><span id="status-keys">0 kw</span></div>
        <div class="vic3-status-divider"></div>
        <div class="vic3-status-item clickable" id="status-encoding-btn"><span id="status-encoding">UTF-8</span></div>
        <div class="vic3-status-divider"></div>
        <div class="vic3-status-item"><span>PDX Script</span></div>
    </div>
</div>
